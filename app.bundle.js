!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}n(1),n(5),n(7);var r=n(8),i=n(37),a=o(i),u=n(8).node;r.mountToDom(document.getElementById("root"),u(a["default"]))},function(e,t,n){var o=n(2);"string"==typeof o&&(o=[[e.id,o,""]]);n(4)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,"hr{margin:20px 0;border:0;border-top:1px dashed #c5c5c5;border-bottom:1px dashed #f7f7f7}.learn a{font-weight:400;text-decoration:none;color:#b83f45}.learn a:hover{text-decoration:underline;color:#787e7e}.learn h3,.learn h4,.learn h5{margin:10px 0;font-weight:500;line-height:1.2;color:#000}.learn h3{font-size:24px}.learn h4{font-size:18px}.learn h5{margin-bottom:0;font-size:14px}.learn ul{padding:0;margin:0 0 30px 25px}.learn li{line-height:20px}.learn p{font-size:15px;font-weight:300;line-height:1.3;margin-top:0;margin-bottom:0}#issue-count{display:none}.quote{border:none;margin:20px 0 60px}.quote p{font-style:italic}.quote p:before{content:'\\201C';top:-20px;left:3px}.quote p:after,.quote p:before{font-size:50px;opacity:.15;position:absolute}.quote p:after{content:'\\201D';bottom:-42px;right:3px}.quote footer{position:absolute;bottom:-40px;right:0}.quote footer img{border-radius:3px}.quote footer a{margin-left:5px;vertical-align:middle}.speech-bubble{position:relative;padding:10px;background:rgba(0,0,0,.04);border-radius:5px}.speech-bubble:after{content:'';position:absolute;top:100%;right:30px;border:13px solid transparent;border-top-color:rgba(0,0,0,.04)}.learn-bar>.learn{position:absolute;width:17pc;top:8px;left:-300px;padding:10px;border-radius:5px;background-color:hsla(0,0%,100%,.6);transition-property:left;transition-duration:.5s}@media (min-width:899px){.learn-bar{width:auto;padding-left:300px}.learn-bar>.learn{left:8px}}",""])},function(e,t){"use strict";e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=f[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(u(o.parts[i],t))}else{for(var a=[],i=0;i<o.parts.length;i++)a.push(u(o.parts[i],t));f[o.id]={id:o.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},o=0;o<e.length;o++){var r=e[o],i=r[0],a=r[1],u=r[2],s=r[3],l={css:a,media:u,sourceMap:s};n[i]?n[i].parts.push(l):t.push(n[i]={id:i,parts:[l]})}return t}function i(){var e=document.createElement("style"),t=p();return e.type="text/css",t.appendChild(e),e}function a(){var e=document.createElement("link"),t=p();return e.rel="stylesheet",t.appendChild(e),e}function u(e,t){var n,o,r;if(t.singleton){var u=m++;n=v||(v=i()),o=s.bind(null,n,u,!1),r=s.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=a(),o=c.bind(null,n),r=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=i(),o=l.bind(null,n),r=function(){n.parentNode.removeChild(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}function s(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=g(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function l(e,t){var n=t.css,o=t.media;t.sourceMap;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function c(e,t){var n=t.css,o=(t.media,t.sourceMap);o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(r),i&&URL.revokeObjectURL(i)}var f={},d=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},h=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=d(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,m=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=h());var n=r(e);return o(n,t),function(e){for(var i=[],a=0;a<n.length;a++){var u=n[a],s=f[u.id];s.refs--,i.push(s)}if(e){var l=r(e);o(l,t)}for(var a=0;a<i.length;a++){var s=i[a];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete f[s.id]}}}};var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var o=n(6);"string"==typeof o&&(o=[[e.id,o,""]]);n(4)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,'body,html{margin:0;padding:0}button{margin:0;padding:0;border:0;background:none;font-size:100%;vertical-align:baseline;font-family:inherit;font-weight:inherit;color:inherit;-webkit-appearance:none;appearance:none;font-smoothing:antialiased}body,button{-webkit-font-smoothing:antialiased;-moz-font-smoothing:antialiased}body{font:14px \'Helvetica Neue\',Helvetica,Arial,sans-serif;line-height:1.4em;background:#f5f5f5;color:#4d4d4d;min-width:230px;max-width:550px;margin:0 auto;font-smoothing:antialiased;font-weight:300}button,input[type=checkbox]{outline:0}.hidden{display:none}.todoapp{background:#fff;margin:130px 0 40px;position:relative;box-shadow:0 2px 4px 0 rgba(0,0,0,.2),0 25px 50px 0 rgba(0,0,0,.1)}.todoapp input::-webkit-input-placeholder{font-style:italic;font-weight:300;color:#e6e6e6}.todoapp input::-moz-placeholder{font-style:italic;font-weight:300;color:#e6e6e6}.todoapp input::input-placeholder{font-style:italic;font-weight:300;color:#e6e6e6}.todoapp h1{position:absolute;top:-155px;width:100%;font-size:75pt;font-weight:100;text-align:center;color:rgba(175,47,47,.15);-webkit-text-rendering:optimizeLegibility;-moz-text-rendering:optimizeLegibility;text-rendering:optimizeLegibility}.edit,.new-todo{position:relative;margin:0;width:100%;font-size:24px;font-family:inherit;font-weight:inherit;line-height:1.4em;border:0;outline:0;color:inherit;padding:6px;border:1px solid #999;box-shadow:inset 0 -1px 5px 0 rgba(0,0,0,.2);box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-font-smoothing:antialiased;font-smoothing:antialiased}.new-todo{padding:1pc 1pc 1pc 60px;border:none;background:rgba(0,0,0,.003);box-shadow:inset 0 -2px 1px rgba(0,0,0,.03)}.main{position:relative;z-index:2;border-top:1px solid #e6e6e6}label[for=toggle-all]{display:none}.toggle-all{position:absolute;top:-55px;left:-9pt;width:60px;height:34px;text-align:center;border:none}.toggle-all:before{content:\'\\276F\';font-size:22px;color:#e6e6e6;padding:10px 27px}.toggle-all:checked:before{color:#737373}.todo-list{margin:0;padding:0;list-style:none}.todo-list li{position:relative;font-size:24px;border-bottom:1px solid #ededed}.todo-list li:last-child{border-bottom:none}.todo-list li.editing{border-bottom:none;padding:0}.todo-list li.editing .edit{display:block;width:506px;padding:13px 17px 9pt;margin:0 0 0 43px}.todo-list li.editing .view{display:none}.todo-list li .toggle{text-align:center;width:40px;height:auto;position:absolute;top:0;bottom:0;margin:auto 0;border:none;-webkit-appearance:none;appearance:none}.todo-list li .toggle:after{content:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="-10 -18 100 135"><circle cx="50" cy="50" r="50" fill="none" stroke="#ededed" stroke-width="3"/></svg>\')}.todo-list li .toggle:checked:after{content:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="-10 -18 100 135"><circle cx="50" cy="50" r="50" fill="none" stroke="#bddad5" stroke-width="3"/><path fill="#5dc2af" d="M72 25L42 71 27 56l-4 4 20 20 34-52z"/></svg>\')}.todo-list li label{white-space:pre;word-break:break-word;padding:15px 60px 15px 15px;margin-left:45px;display:block;line-height:1.2;transition:color .4s}.todo-list li.completed label{color:#d9d9d9;text-decoration:line-through}.todo-list li .destroy{display:none;position:absolute;top:0;right:10px;bottom:0;width:40px;height:40px;margin:auto 0;font-size:30px;color:#cc9a9a;margin-bottom:11px;transition:color .2s ease-out}.todo-list li .destroy:hover{color:#af5b5e}.todo-list li .destroy:after{content:\'\\D7\'}.todo-list li:hover .destroy{display:block}.todo-list li .edit{display:none}.todo-list li.editing:last-child{margin-bottom:-1px}.footer{color:#777;padding:10px 15px;height:20px;text-align:center;border-top:1px solid #e6e6e6}.footer:before{content:\'\';position:absolute;right:0;bottom:0;left:0;height:50px;overflow:hidden;box-shadow:0 1px 1px rgba(0,0,0,.2),0 8px 0 -3px #f6f6f6,0 9px 1px -3px rgba(0,0,0,.2),0 1pc 0 -6px #f6f6f6,0 17px 2px -6px rgba(0,0,0,.2)}.todo-count{float:left;text-align:left}.todo-count strong{font-weight:300}.filters{margin:0;padding:0;list-style:none;position:absolute;right:0;left:0}.filters li{display:inline}.filters li a{color:inherit;margin:3px;padding:3px 7px;text-decoration:none;border:1px solid transparent;border-radius:3px}.filters li a.selected,.filters li a:hover{border-color:rgba(175,47,47,.1)}.filters li a.selected{border-color:rgba(175,47,47,.2)}.clear-completed,html .clear-completed:active{float:right;line-height:20px;text-decoration:none;cursor:pointer;position:relative}.clear-completed:hover{text-decoration:underline}.info{margin:65px auto 0;color:#bfbfbf;font-size:10px;text-shadow:0 1px 0 hsla(0,0%,100%,.5);text-align:center}.info p{line-height:1}.info a{color:inherit;text-decoration:none;font-weight:400}.info a:hover{text-decoration:underline}@media screen and (-webkit-min-device-pixel-ratio:0){.todo-list li .toggle,.toggle-all{background:none}.todo-list li .toggle{height:40px}.toggle-all{-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-appearance:none;appearance:none}}@media (max-width:430px){.footer{height:50px}.filters{bottom:10px}}',""])},function(e,t){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}!function(){function e(){"tastejs.github.io"===location.hostname&&(location.href=location.href.replace("tastejs.github.io/todomvc","todomvc.com"))}function t(){var e=location.href.indexOf("examples/");return location.href.substr(0,e)}function o(e,n){if(!location.host)return console.info("Miss the info bar? Run TodoMVC from a server to avoid a cross-origin error.");var o=new XMLHttpRequest;o.open("GET",t()+e,!0),o.send(),o.onload=function(){200===o.status&&n&&n(o.responseText)}}function r(e,t){if(!(this instanceof r))return new r(e,t);var o,i;if("object"!==("undefined"==typeof e?"undefined":n(e)))try{e=JSON.parse(e)}catch(a){return}t&&(o=t.template,i=t.framework),!o&&e.templates&&(o=e.templates.todomvc),!i&&document.querySelector("[data-framework]")&&(i=document.querySelector("[data-framework]").dataset.framework),this.template=o,e.backend?(this.frameworkJSON=e.backend,this.frameworkJSON.issueLabel=i,this.append({backend:!0})):e[i]&&(this.frameworkJSON=e[i],this.frameworkJSON.issueLabel=i,this.append()),this.fetchIssueCount()}var i=function(e){e.defaults=function(e){if(!e)return e;for(var t=1,n=arguments.length;n>t;t++){var o=arguments[t];if(o)for(var r in o)null==e[r]&&(e[r]=o[r])}return e},e.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var t=/(.)^/,n={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},o=/\\|'|\r|\n|\t|\u2028|\u2029/g;return e.template=function(r,i,a){var u;a=e.defaults({},a,e.templateSettings);var s=new RegExp([(a.escape||t).source,(a.interpolate||t).source,(a.evaluate||t).source].join("|")+"|$","g"),l=0,c="__p+='";r.replace(s,function(e,t,i,a,u){return c+=r.slice(l,u).replace(o,function(e){return"\\"+n[e]}),t&&(c+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'"),i&&(c+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),a&&(c+="';\n"+a+"\n__p+='"),l=u+e.length,e}),c+="';\n",a.variable||(c="with(obj||{}){\n"+c+"}\n"),c="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+c+"return __p;\n";try{u=new Function(a.variable||"obj","_",c)}catch(f){throw f.source=c,f}if(i)return u(i,e);var d=function(t){return u.call(this,t,e)};return d.source="function("+(a.variable||"obj")+"){\n"+c+"}",d},e}({});"todomvc.com"===location.hostname&&(!function(e,t,n,o,r,i,a){e.GoogleAnalyticsObject=r,e[r]=e[r]||function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=o,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-31081062-1","auto"),ga("send","pageview")),r.prototype.append=function(e){var n=document.createElement("aside");if(n.innerHTML=i.template(this.template,this.frameworkJSON),n.className="learn",e&&e.backend){var o=n.querySelector(".source-links"),r=o.firstElementChild,a=o.lastElementChild,u=a.getAttribute("href");a.setAttribute("href",u.substr(u.lastIndexOf("http"))),o.innerHTML=r.outerHTML+a.outerHTML}else{var s=n.querySelectorAll(".demo-link");Array.prototype.forEach.call(s,function(e){"http"!==e.getAttribute("href").substr(0,4)&&e.setAttribute("href",t()+e.getAttribute("href"))})}document.body.className=(document.body.className+" learn-bar").trim(),document.body.insertAdjacentHTML("afterBegin",n.outerHTML)},r.prototype.fetchIssueCount=function(){var e=document.getElementById("issue-count-link");if(e){var t=e.href.replace("https://github.com","https://api.github.com/repos"),n=new XMLHttpRequest;n.open("GET",t,!0),n.onload=function(t){var n=JSON.parse(t.target.responseText);if(n instanceof Array){var o=n.length;0!==o&&(e.innerHTML="This app has "+o+" open issues",document.getElementById("issue-count").style.display="inline")}},n.send()}},e(),o("learn.json",r)}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.normalizeChildren=t.renderToString=t.createComponent=t.node=t.unmountFromDomSync=t.unmountFromDom=t.mountToDomSync=t.mountToDom=void 0;var r=n(9);Object.defineProperty(t,"mountToDom",{enumerable:!0,get:function(){return r.mountToDom}}),Object.defineProperty(t,"mountToDomSync",{enumerable:!0,get:function(){return r.mountToDomSync}}),Object.defineProperty(t,"unmountFromDom",{enumerable:!0,get:function(){return r.unmountFromDom}}),Object.defineProperty(t,"unmountFromDomSync",{enumerable:!0,get:function(){return r.unmountFromDomSync}});var i=n(12),a=o(i),u=n(31),s=o(u),l=n(34),c=o(l),f=n(35),d=o(f),h=n(36),p=o(h),v=n(19);o(v);t.node=a["default"],t.createComponent=s["default"],t.renderToString=c["default"],t.normalizeChildren=d["default"],t.Component=p["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,o,r){var i=d["default"](e),u=v[i],s=void 0;if(u&&u.tree){s=++u.id;var l=function(){v[i]&&v[i].id===s&&(u.tree.patch(t),u.tree=t,a(n,o))};r?l():p["default"](l)}else{v[i]={tree:null,id:s=++m};var c=e.firstChild;if(c)v[i].tree=t,t.adoptDom(c),t.mount(),a(n,o);else{var f=function(){v[i]&&v[i].id===s&&(v[i].tree=t,e.appendChild(t.renderToDom()),t.mount(),a(n,o))};r?f():p["default"](f)}}}function i(e,t,n,o){var r=d["default"](e),i=v[r];i?!function(){var u=++i.id,s=function(){i=v[r],i&&i.id===u&&(i.tree&&i.tree.unmount(),delete v[r],e.innerHTML="",a(t,n))};i.tree?o?s():p["default"](s):o||a(t,n)}():o||a(t,n)}function a(e,t){e&&e.call(t||this)}function u(e,t,n,o){r(e,t,n,o,!1)}function s(e,t){r(e,t,null,null,!0)}function l(e,t,n){i(e,t,n,!1)}function c(e){i(e,null,null,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.mountToDom=u,t.mountToDomSync=s,t.unmountFromDom=l,t.unmountFromDomSync=c;var f=n(10),d=o(f),h=n(11),p=o(h),v={},m=0},function(e,t){"use strict";function n(e,t){return e[o]||(t?null:e[o]=r++)}Object.defineProperty(t,"__esModule",{value:!0});var o="__vidom__id__",r=1;t["default"]=n},function(e,t){(function(e){"use strict";function n(){for(var e=0;e<r.length;)r[e++]();r=[]}Object.defineProperty(t,"__esModule",{value:!0});var o=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},r=[];t["default"]=function(e){1===r.push(e)&&o(n)},t.applyBatch=n}).call(t,function(){return this}())},function(e,t,n){"use strict";function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":o(e)}function a(e){switch("undefined"==typeof e?"undefined":i(e)){case"string":return g[e]?new c["default"](g[e]):new s["default"](e);case"function":return new c["default"](e);default:throw Error("unsupported node type: "+("undefined"==typeof e?"undefined":i(e)))}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(13),s=r(u),l=n(29),c=r(l),f=n(30),d=r(f),h=n(32),p=r(h),v=n(33),m=r(v),g={input:d["default"],textarea:p["default"],select:m["default"]};t["default"]=a},function(e,t,n){"use strict";function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":o(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){if(null==e)return null;var t="undefined"==typeof e?"undefined":i(e);if("object"===t){var n=Array.isArray(e)?e:[e];return n}return"string"===t?e:e.toString()}function s(e,t,n){for(var o={},r=void 0;n>t;)r=e[t],null!=r._key&&(o[r._key]=t),++t;return o}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=n(14),f=r(c),d=n(15),h=r(d),p=n(21),v=n(24),m=r(v),g=n(25),y=r(g),b=n(17),_=r(b),w=n(19),x=(r(w),n(26)),k=n(27),O=r(k),C=n(28),j=r(C),S={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},A=x.isTrident||x.isEdge,M=function(){function e(t){a(this,e),this.type=e,this._tag=t,this._domNode=null,this._key=null,this._ns=null,this._attrs=null,this._children=null,this._escapeChildren=!0}return l(e,[{key:"getDomNode",value:function(){return this._domNode}},{key:"key",value:function(e){return this._key=e,this}},{key:"ns",value:function(e){return this._ns=e,this}},{key:"attrs",value:function(e){return this._attrs=e,this}},{key:"children",value:function(e){return this._children=u(e),this}},{key:"html",value:function(e){return this._children=e,this._escapeChildren=!1,this}},{key:"renderToDom",value:function(e){!this._ns&&e&&e._ns&&(this._ns=e._ns);var t=this._children;if(A&&t&&"string"!=typeof t){var n=j["default"](this.renderToString(),this._tag,this._ns);return this.adoptDom(n,e),n}var o=O["default"](this._ns,this._tag),r=this._attrs;if(t)if("string"==typeof t)this._escapeChildren?o.textContent=t:o.innerHTML=t;else for(var i=0,a=t.length;a>i;)o.appendChild(t[i++].renderToDom(this));if(r){var u=void 0,s=void 0;for(u in r)null!=(s=r[u])&&(m["default"][u]?p.addListener(o,m["default"][u],s):h["default"](u).set(o,u,s))}return this._domNode=o}},{key:"renderToString",value:function(e){var t=this._tag,n=this._ns,o=this._attrs,r=this._children,i="<"+t;if(n&&(i+=' xmlns="'+n+'"'),o){var a=void 0,u=void 0,s=void 0;for(a in o)if(u=o[a],null!=u){if("value"===a)switch(t){case"textarea":r=u;continue;case"select":e={value:u,multiple:o.multiple};continue;case"option":(e.multiple?_["default"](e.value,u):e.value===u)&&(i+=" "+h["default"]("selected").toString("selected",!0))}!m["default"][a]&&(s=h["default"](a).toString(a,u))&&(i+=" "+s)}}if(S[t])i+="/>";else{if(i+=">",r)if("string"==typeof r)i+=this._escapeChildren?y["default"](r):r;else for(var l=0,c=r.length;c>l;)i+=r[l++].renderToString(e);i+="</"+t+">"}return i}},{key:"adoptDom",value:function(e,t){!this._ns&&t&&t._ns&&(this._ns=t._ns),this._domNode=e;var n=this._attrs,o=this._children;if(n){var r=void 0,i=void 0;for(r in n)null!=(i=n[r])&&m["default"][r]&&p.addListener(e,m["default"][r],i)}if(o&&"string"!=typeof o){var a=0,u=o.length;if(u)for(var s=e.childNodes;u>a;)o[a].adoptDom(s[a],this),++a}}},{key:"mount",value:function(){var e=this._children;if(e&&"string"!=typeof e)for(var t=0,n=e.length;n>t;)e[t++].mount()}},{key:"unmount",value:function(){var e=this._children;if(e&&"string"!=typeof e)for(var t=0,n=e.length;n>t;)e[t++].unmount();p.removeListeners(this._domNode),this._domNode=null}},{key:"patch",value:function(e,t){if(this!==e){if(!e._ns&&t&&t._ns&&(e._ns=t._ns),this.type!==e.type||this._tag!==e._tag||this._ns!==e._ns)return void f["default"].replace(t||null,this,e);this._domNode&&(e._domNode=this._domNode),this._patchChildren(e),this._patchAttrs(e)}}},{key:"_patchChildren",value:function(e){var t=this._children,n=e._children;if(t!==n){var o="string"==typeof t,r="string"==typeof n;if(r)return o?void f["default"].updateText(this,n,e._escapeChildren):(t&&t.length&&f["default"].removeChildren(this),void(n&&f["default"].updateText(this,n,e._escapeChildren)));if(!n||!n.length)return void(t&&(o?f["default"].removeText(this):t.length&&f["default"].removeChildren(this)));o&&t&&f["default"].removeText(this);var i=n.length;if(!o&&t&&t.length){var a=t.length;if(1===a&&1===i)return void t[0].patch(n[0],e);for(var u=0,l=a-1,c=t[u],d=c._key,h=t[l],p=h._key,v=0,m=i-1,g=n[v],y=g._key,b=n[m],_=b._key,w=!1,x=!1,k=!1,O=!1,C={},j=void 0,S=void 0,A=void 0;l>=u&&m>=v;)C[u]?w=!0:C[l]?x=!0:d===y?(c.patch(g,e),w=!0,k=!0):p===_?(h.patch(b,e),x=!0,O=!0):null!=d&&d===_?(f["default"].moveChild(e,c,h,!0),c.patch(b,e),w=!0,O=!0):null!=p&&p===y?(f["default"].moveChild(e,h,c,!1),h.patch(g,e),x=!0,k=!0):null!=d&&null==y?(f["default"].insertChild(e,g,c),k=!0):null==d&&null!=y?(f["default"].removeChild(e,c),w=!0):(j||(j=s(t,u,l)),null!=(S=j[y])?(A=t[S],C[S]=!0,f["default"].moveChild(e,A,c,!1),A.patch(g,e)):f["default"].insertChild(e,g,c),k=!0),w&&(w=!1,++u<=l&&(c=t[u],d=c._key)),x&&(x=!1,--l>=u&&(h=t[l],p=h._key)),k&&(k=!1,++v<=m&&(g=n[v],y=g._key)),O&&(O=!1,--m>=v&&(b=n[m],_=b._key));for(;l>=u;)C[u]||f["default"].removeChild(e,t[u]),++u;for(;m>=v;)i-1>m?f["default"].insertChild(e,n[v],n[m+1]):f["default"].appendChild(e,n[v]),++v}else for(var M=0;i>M;)f["default"].appendChild(e,n[M++])}}},{key:"_patchAttrs",value:function(e){var t=this._attrs,n=e._attrs;if(t!==n){var o=void 0,r=void 0,a=void 0,u=void 0,s=void 0;if(n)for(o in n)a=n[o],t&&null!=(r=t[o])?null==a?f["default"].removeAttr(this,o):"object"===("undefined"==typeof a?"undefined":i(a))&&"object"===("undefined"==typeof r?"undefined":i(r))?(s=Array.isArray(a),u=Array.isArray(r),s||u?s&&u?this._patchAttrArr(o,r,a):f["default"].updateAttr(this,o,a):this._patchAttrObj(o,r,a)):r!==a&&f["default"].updateAttr(this,o,a):null!=a&&f["default"].updateAttr(this,o,a);if(t)for(o in t)n&&o in n||null==(r=t[o])||f["default"].removeAttr(this,o)}}},{key:"_patchAttrArr",value:function(e,t,n){if(t!==n){var o=t.length,r=!1;if(o!==n.length)r=!0;else for(var i=0;!r&&o>i;)t[i]!=n[i]&&(r=!0),++i;r&&f["default"].updateAttr(this,e,n)}}},{key:"_patchAttrObj",value:function(e,t,n){if(t!==n){var o=!1,r={};for(var i in n)t[i]!=n[i]&&(o=!0,r[i]=n[i]);for(var i in t)null==t[i]||i in n||(o=!0,r[i]=null);o&&f["default"].updateAttr(this,e,r)}}}]),e}();t["default"]=M},function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){e.getDomNode().appendChild(t.renderToDom(e)),t.mount()}function i(e,t,n){e.getDomNode().insertBefore(t.renderToDom(e),n.getDomNode()),t.mount()}function a(e,t){var n=t.getDomNode();t.unmount(),e.getDomNode().removeChild(n)}function u(e,t,n,o){var r=e.getDomNode(),i=t.getDomNode(),a=n.getDomNode(),u=b.activeElement;if(o){var s=a.nextSibling;s?r.insertBefore(i,s):r.appendChild(i)}else r.insertBefore(i,a);b.activeElement!==u&&u.focus()}function s(e){for(var t=e._children,n=t.length,o=0;n>o;)t[o++].unmount();e.getDomNode().innerHTML=""}function l(e,t,n){var o=t.getDomNode();t.unmount(),o.parentNode.replaceChild(n.renderToDom(e),o),n.mount()}function c(e,t,n){var o=e.getDomNode();y["default"][t]?m.addListener(o,y["default"][t],n):v["default"](t).set(o,t,n)}function f(e,t){var n=e.getDomNode();y["default"][t]?m.removeListener(n,y["default"][t]):v["default"](t).remove(n,t)}function d(e,t,n){var o=e.getDomNode();n?o.textContent=t:o.innerHTML=t}function h(e){e.getDomNode().innerHTML=""}Object.defineProperty(t,"__esModule",{value:!0});var p=n(15),v=o(p),m=n(21),g=n(24),y=o(g),b=e.document;t["default"]={appendChild:r,insertChild:i,removeChild:a,moveChild:u,removeChildren:s,replace:l,updateAttr:c,removeAttr:f,updateText:d,removeText:h}}).call(t,function(){return this}())},function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){if("type"===t&&"INPUT"===e.tagName){var o=e.value;e.setAttribute(t,""+n),e.value=o}else e.setAttribute(j[t]||t,""+n)}function i(e,t,n){n?r(e,t,n):l(e,t)}function a(e,t,n){e[t]=n}function u(e,t,n){var o=e[t];for(var r in n)o[r]=null==n[r]?"":n[r]}function s(e,t,n){"value"===t&&"SELECT"===e.tagName?f(e,n):e[t]!==n&&(e[t]=n)}function l(e,t){e.removeAttribute(j[t]||t)}function c(e,t){"value"===t&&"SELECT"===e.tagName?d(e):e[t]=m(e.tagName,t)}function f(e,t){for(var n=Array.isArray(t),o=e.options,r=o.length,i=0,a=void 0;r>i;)a=o[i++],a.selected=null!=t&&(n?_["default"](t,a.value):a.value==t)}function d(e){for(var t=e.options,n=t.length,o=0;n>o;)t[o++].selected=!1}function h(e,t){return(j[e]||e)+'="'+y["default"](t)+'"'}function p(e,t){return t?e:""}function v(e,t){var n="";for(var o in t)null!=t[o]&&(n+=x["default"](o)+":"+t[o]+";");return n?e+'="'+n+'"':n}function m(e,t){var n=C[e]||(C[e]={});return t in n?n[t]:n[t]=O.createElement(e)[t]}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return T[e]||S};var g=n(16),y=o(g),b=n(17),_=o(b),w=n(18),x=o(w),k=n(19),O=(o(k),e.document),C={},j={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv",autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset",tabIndex:"tabindex"},S={set:r,remove:l,toString:h},A={set:i,remove:l,toString:p},M={set:a,remove:c,toString:h},P={set:a,remove:c,toString:p},T={checked:P,controls:M,disabled:A,id:M,ismap:A,loop:M,multiple:P,muted:M,readOnly:P,selected:P,srcDoc:M,style:{set:u,remove:c,toString:v},value:{set:s,remove:c,toString:h}}}).call(t,function(){return this}())},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return(e+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){for(var n=e.length,o=0;n>o;)if(e[o++]==t)return!0;return!1}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/([^A-Z]+)([A-Z])/g;t["default"]=function(e){return e.replace(n,"$1-$2").toLowerCase()}},function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),i=o(r),a=e.console,u={};["log","info","warn","error"].forEach(function(e){u[e]=a?a[e]?function(t,n,o,r,i){switch(arguments.length){case 1:a[e](t);break;case 2:a[e](t,n);break;case 3:a[e](t,n,o);break;case 4:a[e](t,n,o,r);break;case 5:a[e](t,n,o,r,i)}}:function(){a.log.apply(a,arguments)}:i["default"]}),t["default"]=u}).call(t,function(){return this}())},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){}},function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){t||(t=e.type);for(var n=_[t],o=[],r=e.target,i=n.listenersCounter,a=void 0,u=void 0,s=void 0;i>0&&r!==m;)(s=p["default"](r,!0))&&(a=b[s],a&&(u=a[t])&&(o.push(u),--i)),r=r.parentNode;if(o.length)for(var l=new d["default"](t,e),c=o.length,f=0;c>f&&(o[f++](l),!l.isPropagationStopped()););}function i(e){b[p["default"](e.target)][e.type](new d["default"](e.type,e))}function a(e,t,n){var o=_[t];if(o){o.set||(o.setup?o.setup():o.bubbles&&m.addEventListener(t,r,!1),o.set=!0);var a=p["default"](e),u=b[a]||(b[a]={});u[t]||(o.bubbles?++o.listenersCounter:e.addEventListener(t,i,!1)),u[t]=n}}function u(e,t){var n=p["default"](e,!0);if(n){var o=b[n];if(o&&o[t]){o[t]=null;var r=_[t];r&&(r.bubbles?--r.listenersCounter:e.removeEventListener(t,i))}}}function s(e){var t=p["default"](e,!0);if(t){var n=b[t];if(n){delete b[t];for(var o in n)u(e,o)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.removeListeners=t.removeListener=t.addListener=void 0;var l=n(22),c=o(l),f=n(23),d=o(f),h=n(10),p=o(h),v=e.document,m=v&&v.body,g=["mouseover","mousemove","mouseout","mousedown","mouseup","click","dblclick","keydown","keypress","keyup","change","input","submit","focus","blur","dragstart","drag","dragenter","dragover","dragleave","dragend","drop","contextmenu","wheel","copy","cut","paste"],y=["scroll","load","error"],b={},_={};m&&!function(){for(var e={focus:"focusin",blur:"focusout"},t=0,n=void 0;t<g.length;)n=g[t++],_[n]={type:n,bubbles:!0,listenersCounter:0,set:!1,setup:e[n]?c["default"](e[n])?function(){var t=this.type;m.addEventListener(e[t],function(e){r(e,t)})}:function(){m.addEventListener(this.type,r,!0)}:null};for(t=0;t<y.length;)_[y[t++]]={type:n,bubbles:!1,set:!1}}(),t.addListener=a,t.removeListener=u,t.removeListeners=s}).call(t,function(){return this}())},function(e,t){(function(e){"use strict";function n(e){var t="on"+e;if(t in o)return!0;var n=o.createElement("div");return n.setAttribute(t,"return;"),"function"==typeof n[t]?!0:"wheel"===e&&o.implementation&&o.implementation.hasFeature&&o.implementation.hasFeature("","")!==!0&&o.implementation.hasFeature("Events.wheel","3.0")}Object.defineProperty(t,"__esModule",{value:!0});var o=e.document;t["default"]=n}).call(t,function(){return this}())},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t,o){n(this,e),this.type=t,this.target=o.target,this.nativeEvent=o,this._isPropagationStopped=!1,this._isDefaultPrevented=!1}return o(e,[{key:"stopPropagation",value:function(){this._isPropagationStopped=!0;var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}},{key:"isPropagationStopped",value:function(){return this._isPropagationStopped}},{key:"preventDefault",value:function(){this._isDefaultPrevented=!0;var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=!1}},{key:"isDefaultPrevented",
value:function(){return this._isDefaultPrevented}}]),e}();t["default"]=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={onMouseOver:"mouseover",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseDown:"mousedown",onMouseUp:"mouseup",onClick:"click",onDblClick:"dblclick",onKeyDown:"keydown",onKeyPress:"keypress",onKeyUp:"keyup",onChange:"change",onInput:"input",onSubmit:"submit",onFocus:"focus",onBlur:"blur",onScroll:"scroll",onLoad:"load",onError:"error",onContextMenu:"contextmenu",onDragStart:"dragstart",onDrag:"drag",onDragEnter:"dragenter",onDragOver:"dragover",onDragLeave:"dragleave",onDragEnd:"dragend",onDrop:"drop",onWheel:"wheel",onCopy:"copy",onCut:"cut",onPaste:"paste"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},function(e,t){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e.navigator?e.navigator.userAgent:"";t.isTrident=n.indexOf("Trident")>-1,t.isEdge=n.indexOf("Edge")>-1}).call(t,function(){return this}())},function(e,t){(function(e){"use strict";function n(e,t){var n=void 0;if(e){var i=e+":"+t;n=r[i]||(r[i]=o.createElementNS(e,t))}else n=r[t]||(r[t]=o.createElement(t));return n.cloneNode()}Object.defineProperty(t,"__esModule",{value:!0});var o=e.document,r={};t["default"]=n}).call(t,function(){return this}())},function(e,t){(function(e){"use strict";function n(e,t,n){if(r||(r=document.createElement("div")),!n||!o[n]||o[n]===t)return r.innerHTML=e,r.removeChild(r.firstChild);var i=o[n];return r.innerHTML="<"+i+' xmlns="'+n+'">'+e+"</"+i+">",r.removeChild(r.firstChild).firstChild}Object.defineProperty(t,"__esModule",{value:!0});var o=(e.document,{"http://www.w3.org/2000/svg":"svg","http://www.w3.org/1998/Math/MathML":"math"}),r=void 0;t["default"]=n}).call(t,function(){return this}())},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){n(this,e),this.type=e,this._component=t,this._key=null,this._attrs=null,this._instance=null,this._children=null,this._ns=null}return o(e,[{key:"getDomNode",value:function(){return this._instance.getDomNode()}},{key:"key",value:function(e){return this._key=e,this}},{key:"attrs",value:function(e){return this._attrs=e,this}},{key:"children",value:function(e){return this._children=e,this}},{key:"renderToDom",value:function(e){return!this._ns&&e&&e._ns&&(this._ns=e._ns),this._domNode=this._getInstance().renderToDom(this)}},{key:"renderToString",value:function(e){return this._getInstance().renderToString(e)}},{key:"adoptDom",value:function(e,t){this._getInstance().adoptDom(e,t)}},{key:"mount",value:function(){this._instance.getRootNode().mount(),this._instance.mount()}},{key:"unmount",value:function(){this._instance&&(this._instance.getRootNode().unmount(),this._instance.unmount(),this._instance=null)}},{key:"patch",value:function(e,t){if(this!==e){!e._ns&&t&&t._ns&&(e._ns=t._ns);var n=this._getInstance();if(this.type===e.type)if(this._component===e._component)n.patch(e._attrs,e._children,t),e._instance=n;else{n.unmount();var o=e._getInstance();n.getRootNode().patch(o.getRootNode(),t),o.mount()}else n.unmount(),n.getRootNode().patch(e,t)}}},{key:"_getInstance",value:function(){return this._instance||(this._instance=new this._component(this._attrs,this._children))}}]),e}();t["default"]=r},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),a=o(i),u=n(13),s=o(u),l=n(11);t["default"]=a["default"]({onInit:function(){var e=this;this.onInput=function(t){var n=e.getAttrs();if(n.onInput&&n.onInput(t),n.onChange&&n.onChange(t),l.applyBatch(),e.isMounted()){n=e.getAttrs();var o=e.getDomRef("control");o.value!==n.value&&(o.value=n.value)}},this.onClick=function(t){var n=e.getAttrs();if(n.onClick&&n.onClick(t),n.onChange&&n.onChange(t),l.applyBatch(),e.isMounted()){n=e.getAttrs();var o=e.getDomRef("control");o.checked!==n.checked&&(o.checked=n.checked)}}},onRender:function(e){var t=r({},e,{onChange:null});return"checkbox"===e.type||"radio"===e.type?t.onClick=this.onClick:t.onInput=this.onInput,this.setDomRef("control",new s["default"]("input").attrs(t))}})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(){this._isMounted=!0,this.onMount(this._attrs)}function i(){this._isMounted=!1,this._domRefs=null,this.onUnmount()}function a(e,t,n){e=this._buildAttrs(e);var o=this._rootNode,r=this._attrs;if(r!==e&&(this._attrs=e,this.isMounted())){var i=this._isUpdating;this._isUpdating=!0,this.onAttrsReceive(e,r),this._isUpdating=i}if(this._children=t,!this._isUpdating){var a=this.shouldUpdate(e,r);a&&(this._rootNode=this.render(),o.patch(this._rootNode,n),this.isMounted()&&this.onUpdate(e,r))}}function u(e,t){return!0}function s(e){return this._rootNode.renderToDom(e)}function l(e){return this._rootNode.renderToString(e)}function c(e,t){this._rootNode.adoptDom(e,t)}function f(){return this._rootNode.getDomNode()}function d(){return this._attrs}function h(){this._domRefs={};var e=this.onRender(this._attrs,this._children)||S["default"]("noscript");return e}function p(e,t){var n=this;this._isUpdating?e&&C["default"](function(){return e.call(t||n)}):(this._isUpdating=!0,C["default"](function(){n.isMounted()&&(n._isUpdating=!1,n.patch(n._attrs,n._children),e&&e.call(t||n))}))}function v(){return this._rootNode}function m(){return this._isMounted}function g(e,t){return this._domRefs[e]=t}function y(e){return this._domRefs[e]?this._domRefs[e].getDomNode():null}function b(){return M}function _(e){if(this._attrs&&e===this._attrs)return e;var t=this.constructor,n=t._defaultAttrs||(t._defaultAttrs=t.getDefaultAttrs());if(!e)return n;if(n===M)return e;var o={};for(var r in n)o[r]=n[r];for(var r in e)o[r]=e[r];return o}function w(e,t){var n=function(e,t){this._attrs=this._buildAttrs(e),this._children=t,this._domRefs=null,this._isMounted=!1,this._isUpdating=!1,this.onInit(this._attrs),this._rootNode=this.render()},o={constructor:n,onInit:k["default"],mount:r,unmount:i,onMount:k["default"],onUnmount:k["default"],onAttrsReceive:k["default"],shouldUpdate:u,onUpdate:k["default"],isMounted:m,renderToDom:s,renderToString:l,adoptDom:c,getDomNode:f,getRootNode:v,render:h,onRender:k["default"],update:p,patch:a,getDomRef:y,setDomRef:g,getAttrs:d,_buildAttrs:_};for(var w in e)o[w]=e[w];n.prototype=o,n.getDefaultAttrs=b;for(var w in t)n[w]=t[w];return n}Object.defineProperty(t,"__esModule",{value:!0});var x=n(20),k=o(x),O=n(11),C=o(O),j=n(12),S=o(j),A=n(19),M=(o(A),{});t["default"]=w},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),a=o(i),u=n(13),s=o(u),l=n(11);t["default"]=a["default"]({onInit:function(){var e=this;this.onInput=function(t){var n=e.getAttrs();if(n.onInput&&n.onInput(t),n.onChange&&n.onChange(t),l.applyBatch(),e.isMounted()){n=e.getAttrs();var o=e.getDomRef("control");o.value!==n.value&&(o.value=n.value)}}},onRender:function(e){var t=r({},e,{onInput:this.onInput,onChange:null});return this.setDomRef("control",new s["default"]("textarea").attrs(t))}})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),a=o(i),u=n(13),s=o(u),l=n(11);t["default"]=a["default"]({onInit:function(){var e=this;this.onChange=function(t){var n=e.getAttrs();if(n.onChange&&n.onChange(t),l.applyBatch(),e.isMounted()){n=e.getAttrs();var o=e.getDomRef("control");o.value!==n.value&&(o.value=n.value)}}},onRender:function(e,t){var n=r({},e,{onChange:this.onChange});return this.setDomRef("control",new s["default"]("select").attrs(n).children(t))}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return e.renderToString()}},function(e,t,n){"use strict";function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":"undefined"==typeof e?"undefined":o(e)}function a(e){if(null==e)return null;var t="undefined"==typeof e?"undefined":i(e);if("object"!==t)return"string"===t?e:e.toString();if(!Array.isArray(e))return e;if(!e.length)return null;for(var n=e,o=0,r=e.length,u=!0,l=void 0;r>o;){if(l=a(e[o]),null===l)null!==n&&(u?n=null:n===e&&(n=e.slice(0,o)));else{if(null===n)n=l;else if(Array.isArray(l))n=u?l:(n===e?n.slice(0,o):Array.isArray(n)?n:[n]).concat(l);else if("object"===("undefined"==typeof l?"undefined":i(l))&&e[o]===l)n!==e&&(n=s(n,l));else{if(n===e){if(u){n=l,++o;continue}n=n.slice(0,o)}n=s(n,l)}u=!1}++o}return n}function u(e){return"object"===("undefined"==typeof e?"undefined":i(e))?e:c["default"]("span").children(e)}function s(e,t){return Array.isArray(e)?(e.push(u(t)),e):[u(e),u(t)]}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=a(e);return null===t||"object"!==("undefined"==typeof t?"undefined":i(t))||Array.isArray(t)||(t=[t]),t};var l=n(12),c=r(l)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=o(r);t["default"]=i["default"]()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(38),l=o(s),c=n(39),f=o(c),d=n(40),h=o(d),p=n(43),v=o(p),m=n(44),g=o(m),y=n(45),b=o(y),_=n(48),w=n(8).node,x=n(8).normalizeChildren,k=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"getInitialState",value:function(){return{todos:b["default"].get(),filter:void 0}}},{key:"onRender",value:function(){var e=this.getState(),t=e.todos,n=e.filter;return n?w("div").children([w("section").attrs({"class":"todoapp"}).children(x([w(f["default"]).attrs({onAdd:function(e){return b["default"].add(e)}}),t.length?w(h["default"]).attrs({todos:t,filter:n,onRemove:function(e){return b["default"].remove(e)},onEdit:function(e,t){return b["default"].setTitle(e,t)},onToggle:function(e){return b["default"].toggleCompleted(e)},onCompleteAll:function(){return b["default"].completeAll()},onUncompleteAll:function(){return b["default"].uncompleteAll()}}):"",t.length?w(v["default"]).attrs({todos:t,filter:n,onRemoveCompleted:function(){return b["default"].removeCompleted()}}):""])),w(g["default"])]):null}},{key:"onMount",value:function(){var e=this,t=new _.Router({"!/(active|completed)":function(t){e.setState({filter:t})}}).configure({notfound:function(){e.setState({filter:"all"})}});t.init("/"),b["default"].onUpdate(function(t){e.setState({todos:t})})}}]),t}(l["default"]);t["default"]=k},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(8),l=function(e){function t(){return o(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),u(t,[{key:"onInit",value:function(){this._prevState=this.getInitialState(this.getAttrs()),this._state=this._prevState}},{key:"getInitialState",value:function(){return{}}},{key:"setState",value:function(e){this._prevState=this._state,this._state=a({},this._state,e),this.update(function(){this._prevState=this._state})}},{key:"getState",value:function(){return this._state}},{key:"getPrevState",value:function(){return this._prevState}}]),t}(s.Component);t["default"]=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(38),l=o(s),c=n(8).node,f=13,d=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"getInitialState",value:function(){return{title:""}}},{key:"onRender",value:function(){var e=this;return c("header").attrs({"class":"header"}).children([c("h1").children("todos"),c("input").attrs({"class":"new-todo",placeholder:"What needs to be done?",autofocus:"true",value:this.getState().title,onChange:function(t){return e.onChange(t)},onKeyUp:function(t){return e.onKeyUp(t)}})])}},{key:"onChange",value:function(e){this.setState({title:e.target.value})}},{key:"onKeyUp",value:function(e){if(e.nativeEvent.keyCode===f){var t=e.target.value.trim();t&&(this.setState({title:""}),this.getAttrs().onAdd(t))}}}]),t}(l["default"]);t["default"]=d},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(8),l=n(41),c=o(l),f=n(8).node,d=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"onRender",value:function(e){var t=e.todos,n=e.filter,o=e.onRemove,r=e.onEdit,i=e.onToggle,a=e.onCompleteAll,u=e.onUncompleteAll;return f("section").attrs({"class":"main"}).children([f("input").attrs({type:"checkbox","class":"toggle-all",checked:t.filter(function(e){return e.completed}).length===t.length,onClick:function(e){return e.target.checked?a():u()}}),f("label").attrs({"for":"toggle-all"}).children("Mark all as completed"),f(c["default"]).attrs({todos:t,filter:n,onRemove:o,onEdit:r,onToggle:i})])}}]),t}(s.Component);t["default"]=d},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(8),l=n(42),c=o(l),f=n(8).node,d=n(8).normalizeChildren,h=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"onRender",value:function(e){var t=e.todos,n=e.filter,o=e.onRemove,r=e.onEdit,i=e.onToggle;return f("ul").attrs({"class":"todo-list"}).children(d(("all"===n?t:t.filter(function(e){return e.completed===("completed"===n)})).map(function(e){return f(c["default"]).key(e.id).attrs({todo:e,onRemove:function(){return o(e.id)},onEdit:function(t){return r(e.id,t)},onToggle:function(){return i(e.id)}})})))}}]),t}(s.Component);t["default"]=h},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(38),l=o(s),c=n(8).node,f=n(8).normalizeChildren,d=13,h=function(e){function t(){return r(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"getInitialState",value:function(e){var t=e.todo.title;return{mode:"view",editTitle:t}}},{key:"shouldUpdate",value:function(e,t){var n=e.todo,o=t.todo,r=this.getPrevState(),i=this.getState();return n!==o||r.mode!==i.mode||r.editTitle!==i.editTitle}},{key:"onRender",value:function(e){var t=this,n=e.todo,o=n.title,r=n.completed,i=e.onRemove,a=(e.onEdit,e.onToggle),u=this.getState(),s=u.mode,l=u.editTitle;return c("li").attrs({"class":[r?"completed":"","edit"===s?"editing":""].join(" ")}).children(f("view"===s?c("div").attrs({"class":"view"}).children([c("input").attrs({type:"checkbox","class":"toggle",checked:r,onChange:a}),c("label").attrs({onDblClick:function(){return t.onDblClick()}}).children(f(o)),c("button").attrs({"class":"destroy",onClick:i})]):this.setDomRef("edit-input",c("input")).attrs({"class":"edit",value:l,onChange:function(e){return t.onChange(e)},onKeyUp:function(e){return t.onKeyUp(e)},onBlur:function(e){return t.onBlur(e)}})))}},{key:"onUpdate",value:function(){"edit"===this.getState().mode&&this.getDomRef("edit-input").focus()}},{key:"onDblClick",value:function(){this.setState({mode:"edit"})}},{key:"onChange",value:function(e){this.setState({editTitle:e.target.value})}},{key:"onKeyUp",value:function(e){e.nativeEvent.keyCode===d&&e.target.blur()}},{key:"onBlur",value:function(e){var t=e.target.value.trim();t?this.getAttrs().onEdit(t):this.getAttrs().onRemove(),this.setState({mode:"view",editTitle:t})}}]),t}(l["default"]);t["default"]=h},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(8),s=n(8).node,l=n(8).normalizeChildren,c=function(e){function t(){return o(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"onRender",value:function(e){var t=e.todos,n=e.filter,o=e.onRemoveCompleted,r=t.filter(function(e){return!e.completed});return s("footer").attrs({"class":"footer"}).children(l([s("span").attrs({"class":"todo-count"}).children([s("strong").children(l(r.length)),s("span").children(" item left")]),s("ul").attrs({"class":"filters"}).children(l(["all","active","completed"].map(function(e){return s("li").children(s("a").attrs({"class":e===n?"selected":null,href:"#!/"+("all"!==e?e:"")}).children(l(e)))}))),r.length<t.length?s("button").attrs({"class":"clear-completed",onClick:o}).children("Clear completed"):""]))}}]),t}(u.Component);t["default"]=c},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=n(8),s=n(8).node,l=function(e){function t(){return o(this,t),r(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),a(t,[{key:"shouldUpdate",value:function(){return!1}},{key:"onRender",value:function(){return s("footer").attrs({"class":"info"}).children([s("p").children("Double-click to edit a todo"),s("p").children([s("span").children("Created by "),s("a").attrs({href:"https://github.com/dfilatov/"}).children("Dmitry Filatov")]),s("p").children([s("span").children("Part of "),s("a").attrs({href:"http://todomvc.com"}).children("TodoMVC")])])}}]),t}(u.Component);t["default"]=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(){return w}function a(e){w=[].concat(r(w),[{id:g["default"](),title:e,completed:!1}]),p()}function u(e){w=w.filter(function(t){return t.id!==e}),p()}function s(e,t){w=w.map(function(n){return n.id===e?v({},n,{title:t}):n}),p()}function l(e){w=w.map(function(t){return t.id===e?v({},t,{completed:!t.completed}):t}),p()}function c(){w=w.map(function(e){return v({},e,{completed:!0})}),p()}function f(){w=w.map(function(e){return v({},e,{completed:!1})}),p()}function d(){w=w.filter(function(e){return!e.completed}),p()}function h(e){_.push(e)}function p(){y.setItem(b,w),_.forEach(function(e){return e(w)})}var v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var m=n(46),g=o(m),y=n(47),b="model-vidom",_=[],w=y.getItem(b)||[];t["default"]={get:i,add:a,remove:u,setTitle:s,toggleCompleted:l,completeAll:c,uncompleteAll:f,removeCompleted:d,onUpdate:h}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},function(e,t){"use strict";function n(e){return JSON.parse(localStorage.getItem(e))}function o(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(n){}}Object.defineProperty(t,"__esModule",{value:!0}),t.getItem=n,t.setItem=o},function(e,t,n){"use strict";function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}!function(e){function t(){return""===c.hash||"#"===c.hash}function n(e,t){for(var n=0;n<e.length;n+=1)if(t(e[n],n,e)===!1)return}function r(e){for(var t=[],n=0,o=e.length;o>n;n++)t=t.concat(e[n]);return t}function i(e,t,n){if(!e.length)return n();var o=0;!function r(){t(e[o],function(t){t||t===!1?(n(t),n=function(){}):(o+=1,o===e.length?n():r())})}()}function a(e,t,n){n=e;for(var o in t)if(t.hasOwnProperty(o)&&(n=t[o](e),n!==e))break;return n===e?"([._a-zA-Z0-9-%()]+)":n}function u(e,t){for(var n,o=0,r="";n=e.substr(o).match(/[^\w\d\- %@&]*\*[^\w\d\- %@&]*/);)o=n.index+n[0].length,n[0]=n[0].replace(/^\*/,"([_.()!\\ %@&a-zA-Z0-9-]+)"),r+=e.substr(0,n.index)+n[0];e=r+=e.substr(o);var i,u,s=e.match(/:([^\/]+)/gi);if(s){u=s.length;for(var l=0;u>l;l++)i=s[l],e="::"===i.slice(0,2)?i.slice(1):e.replace(i,a(i,t))}return e}function l(e,t,n,o){var r,i=0,a=0,u=0,n=(n||"(").toString(),o=(o||")").toString();for(r=0;r<e.length;r++){var s=e[r];if(s.indexOf(n,i)>s.indexOf(o,i)||~s.indexOf(n,i)&&!~s.indexOf(o,i)||!~s.indexOf(n,i)&&~s.indexOf(o,i)){if(a=s.indexOf(n,i),u=s.indexOf(o,i),~a&&!~u||!~a&&~u){var l=e.slice(0,(r||1)+1).join(t);e=[l].concat(e.slice((r||1)+1))}i=(u>a?u:a)+1,r=0}else i=0}return e}var c=document.location,f={mode:"modern",hash:c.hash,history:!1,check:function(){var e=c.hash;e!=this.hash&&(this.hash=e,this.onHashChanged())},fire:function(){"modern"===this.mode?this.history===!0?window.onpopstate():window.onhashchange():this.onHashChanged()},init:function(e,t){function n(e){for(var t=0,n=d.listeners.length;n>t;t++)d.listeners[t](e)}var o=this;if(this.history=t,d.listeners||(d.listeners=[]),"onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7))this.history===!0?setTimeout(function(){window.onpopstate=n},500):window.onhashchange=n,this.mode="modern";else{var r=document.createElement("iframe");r.id="state-frame",r.style.display="none",document.body.appendChild(r),this.writeFrame(""),"onpropertychange"in document&&"attachEvent"in document&&document.attachEvent("onpropertychange",function(){"location"===event.propertyName&&o.check()}),window.setInterval(function(){o.check()},50),this.onHashChanged=n,this.mode="legacy"}return d.listeners.push(e),this.mode},destroy:function(e){if(d&&d.listeners)for(var t=d.listeners,n=t.length-1;n>=0;n--)t[n]===e&&t.splice(n,1)},setHash:function(e){return"legacy"===this.mode&&this.writeFrame(e),this.history===!0?(window.history.pushState({},document.title,e),this.fire()):c.hash="/"===e[0]?e:"/"+e,this},writeFrame:function(e){var t=document.getElementById("state-frame"),n=t.contentDocument||t.contentWindow.document;n.open(),n.write("<script>_hash = '"+e+"'; onload = parent.listener.syncHash;<script>"),n.close()},syncHash:function(){var e=this._hash;return e!=c.hash&&(c.hash=e),this},onHashChanged:function(){}},d=e.Router=function(e){return this instanceof d?(this.params={},this.routes={},this.methods=["on","once","after","before"],this.scope=[],this._methods={},this._insert=this.insert,this.insert=this.insertEx,this.historySupport=null!=(null!=window.history?window.history.pushState:null),this.configure(),void this.mount(e||{})):new d(e)};d.prototype.init=function(e){var n,o=this;return this.handler=function(e){var t=e&&e.newURL||window.location.hash,n=o.history===!0?o.getPath():t.replace(/.*#/,"");o.dispatch("on","/"===n.charAt(0)?n:"/"+n)},f.init(this.handler,this.history),this.history===!1?t()&&e?c.hash=e:t()||o.dispatch("on","/"+c.hash.replace(/^(#\/|#|\/)/,"")):(this.convert_hash_in_init?(n=t()&&e?e:t()?null:c.hash.replace(/^#/,""),n&&window.history.replaceState({},document.title,n)):n=this.getPath(),(n||this.run_in_init===!0)&&this.handler()),this},d.prototype.explode=function(){var e=this.history===!0?this.getPath():c.hash;return"/"===e.charAt(1)&&(e=e.slice(1)),e.slice(1,e.length).split("/")},d.prototype.setRoute=function(e,t,n){var o=this.explode();return"number"==typeof e&&"string"==typeof t?o[e]=t:"string"==typeof n?o.splice(e,t,s):o=[e],f.setHash(o.join("/")),o},d.prototype.insertEx=function(e,t,n,o){return"once"===e&&(e="on",n=function(e){var t=!1;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}}(n)),this._insert(e,t,n,o)},d.prototype.getRoute=function(e){var t=e;if("number"==typeof e)t=this.explode()[e];else if("string"==typeof e){var n=this.explode();t=n.indexOf(e)}else t=this.explode();return t},d.prototype.destroy=function(){return f.destroy(this.handler),this},d.prototype.getPath=function(){var e=window.location.pathname;return"/"!==e.substr(0,1)&&(e="/"+e),e};var h=/\?.*/;d.prototype.configure=function(e){e=e||{};for(var t=0;t<this.methods.length;t++)this._methods[this.methods[t]]=!0;return this.recurse=e.recurse||this.recurse||!1,this.async=e.async||!1,this.delimiter=e.delimiter||"/",this.strict="undefined"==typeof e.strict?!0:e.strict,this.notfound=e.notfound,this.resource=e.resource,this.history=e.html5history&&this.historySupport||!1,this.run_in_init=this.history===!0&&e.run_handler_in_init!==!1,this.convert_hash_in_init=this.history===!0&&e.convert_hash_in_init!==!1,this.every={after:e.after||null,before:e.before||null,on:e.on||null},this},
d.prototype.param=function(e,t){":"!==e[0]&&(e=":"+e);var n=new RegExp(e,"g");return this.params[e]=function(e){return e.replace(n,t.source||t)},this},d.prototype.on=d.prototype.route=function(e,t,n){var o=this;return n||"function"!=typeof t||(n=t,t=e,e="on"),Array.isArray(t)?t.forEach(function(t){o.on(e,t,n)}):(t.source&&(t=t.source.replace(/\\\//gi,"/")),Array.isArray(e)?e.forEach(function(e){o.on(e.toLowerCase(),t,n)}):(t=t.split(new RegExp(this.delimiter)),t=l(t,this.delimiter),void this.insert(e,this.scope.concat(t),n)))},d.prototype.path=function(e,t){var n=this.scope.length;e.source&&(e=e.source.replace(/\\\//gi,"/")),e=e.split(new RegExp(this.delimiter)),e=l(e,this.delimiter),this.scope=this.scope.concat(e),t.call(this,this),this.scope.splice(n,e.length)},d.prototype.dispatch=function(e,t,n){function o(){i.last=a.after,i.invoke(i.runlist(a),i,n)}var r,i=this,a=this.traverse(e,t.replace(h,""),this.routes,""),u=this._invoked;return this._invoked=!0,a&&0!==a.length?("forward"===this.recurse&&(a=a.reverse()),r=this.every&&this.every.after?[this.every.after].concat(this.last):[this.last],r&&r.length>0&&u?(this.async?this.invoke(r,this,o):(this.invoke(r,this),o()),!0):(o(),!0)):(this.last=[],"function"==typeof this.notfound&&this.invoke([this.notfound],{method:e,path:t},n),!1)},d.prototype.invoke=function(e,t,o){var r,a=this;this.async?(r=function(n,o){return Array.isArray(n)?i(n,r,o):void("function"==typeof n&&n.apply(t,(e.captures||[]).concat(o)))},i(e,r,function(){o&&o.apply(t,arguments)})):(r=function(o){return Array.isArray(o)?n(o,r):"function"==typeof o?o.apply(t,e.captures||[]):void("string"==typeof o&&a.resource&&a.resource[o].apply(t,e.captures||[]))},n(e,r))},d.prototype.traverse=function(e,t,n,r,i){function a(e){function t(e){for(var n=[],o=0;o<e.length;o++)n[o]=Array.isArray(e[o])?t(e[o]):e[o];return n}function n(e){for(var t=e.length-1;t>=0;t--)Array.isArray(e[t])?(n(e[t]),0===e[t].length&&e.splice(t,1)):i(e[t])||e.splice(t,1)}if(!i)return e;var o=t(e);return o.matched=e.matched,o.captures=e.captures,o.after=e.after.filter(i),n(o),o}var u,s,l,c,f=[];if(t===this.delimiter&&n[e])return c=[[n.before,n[e]].filter(Boolean)],c.after=[n.after].filter(Boolean),c.matched=!0,c.captures=[],a(c);for(var d in n)if(n.hasOwnProperty(d)&&(!this._methods[d]||this._methods[d]&&"object"===o(n[d])&&!Array.isArray(n[d]))){if(u=s=r+this.delimiter+d,this.strict||(s+="["+this.delimiter+"]?"),l=t.match(new RegExp("^"+s)),!l)continue;if(l[0]&&l[0]==t&&n[d][e])return c=[[n[d].before,n[d][e]].filter(Boolean)],c.after=[n[d].after].filter(Boolean),c.matched=!0,c.captures=l.slice(1),this.recurse&&n===this.routes&&(c.push([n.before,n.on].filter(Boolean)),c.after=c.after.concat([n.after].filter(Boolean))),a(c);if(c=this.traverse(e,t,n[d],u),c.matched)return c.length>0&&(f=f.concat(c)),this.recurse&&(f.push([n[d].before,n[d].on].filter(Boolean)),c.after=c.after.concat([n[d].after].filter(Boolean)),n===this.routes&&(f.push([n.before,n.on].filter(Boolean)),c.after=c.after.concat([n.after].filter(Boolean)))),f.matched=!0,f.captures=c.captures,f.after=c.after,a(f)}return!1},d.prototype.insert=function(e,t,n,r){var i,a,s,l,c;if(t=t.filter(function(e){return e&&e.length>0}),r=r||this.routes,c=t.shift(),/\:|\*/.test(c)&&!/\\d|\\w/.test(c)&&(c=u(c,this.params)),t.length>0)return r[c]=r[c]||{},this.insert(e,t,n,r[c]);if(c||t.length||r!==this.routes){if(a=o(r[c]),s=Array.isArray(r[c]),r[c]&&!s&&"object"==a)switch(i=o(r[c][e])){case"function":return void(r[c][e]=[r[c][e],n]);case"object":return void r[c][e].push(n);case"undefined":return void(r[c][e]=n)}else if("undefined"==a)return l={},l[e]=n,void(r[c]=l);throw new Error("Invalid route context: "+a)}switch(i=o(r[e])){case"function":return void(r[e]=[r[e],n]);case"object":return void r[e].push(n);case"undefined":return void(r[e]=n)}},d.prototype.extend=function(e){function t(e){o._methods[e]=!0,o[e]=function(){var t=1===arguments.length?[e,""]:[e];o.on.apply(o,t.concat(Array.prototype.slice.call(arguments)))}}var n,o=this,r=e.length;for(n=0;r>n;n++)t(e[n])},d.prototype.runlist=function(e){var t=this.every&&this.every.before?[this.every.before].concat(r(e)):r(e);return this.every&&this.every.on&&t.push(this.every.on),t.captures=e.captures,t.source=e.source,t},d.prototype.mount=function(e,t){function n(t,n){var i=t,a=t.split(r.delimiter),u=o(e[t]),s=""===a[0]||!r._methods[a[0]],c=s?"on":i;return s&&(i=i.slice((i.match(new RegExp("^"+r.delimiter))||[""])[0].length),a.shift()),s&&"object"===u&&!Array.isArray(e[t])?(n=n.concat(a),void r.mount(e[t],n)):(s&&(n=n.concat(i.split(r.delimiter)),n=l(n,r.delimiter)),void r.insert(c,n,e[t]))}if(e&&"object"===("undefined"==typeof e?"undefined":o(e))&&!Array.isArray(e)){var r=this;t=t||[],Array.isArray(t)||(t=t.split(r.delimiter));for(var i in e)e.hasOwnProperty(i)&&n(i,t.slice(0))}}}("object"===o(t)?t:window)}]);